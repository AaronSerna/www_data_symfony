{% extends 'base.html.twig' %}

{% block title %}2FA Setup
{% endblock %}

{% block body %}


	<style>

		body {
			background-color: white;
		}
	</style>


	<div class="container-fluid">

		<div class="row text-center">

			<div class="text-start mt-1">
				<a href="/profile/{{user.id}}" class="btn btn-secondary text-light border border-dark mt-1">

					<i class="bi bi-arrow-return-left"></i>
					Retroceder</a>
			</div>


			<h1>Habilitar autentificación de doble factor (2FA)</h1>

			<p class="mt-2">Escanea el código QR con tu app Google Authenticator:</p>

			<div>
				<img src="{{ path('qr_code') }}" alt="QR Code">
			</p>
		</div>

		<p>O introduce la clave manualmente:
			{{ secret }}</p>


		<form action="/2fa_check" method="post" class="text-center form-group">

			<p class="fw-bold">Introduce el código de 6 dígitos de tu aplicación Google Authenticator:</p>
			<input type="text" id="input_2fa_setup" name="input_2fa_setup" class="form-control w-50 mx-auto text-center">
			<button type="submit" class="btn btn-primary mt-4">Habilitar 2FA</button>

		</form>

	</div>
</div>{% endblock %}
